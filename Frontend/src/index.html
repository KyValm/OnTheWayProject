<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="examplePage.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>
<div class="page" id="main">
    <h1 class="header-1">On The Way</h1>
    <h2 class="home-text1">Inventory Management System</h2>
    <h3>
        <button type="submit" onclick="openSearchForm()" id="search"  class="home-button button">Search Item</button>
        <button id="all-items" class="home-button1 button">Inventory</button>
        <button id="all-priority-items" class="home-get-priority-items button">Priority Items</button>
        <button id="get-items-by-category" onclick="openCategorySearchForm()" class="home-get-category button">Items by Category</button>
        <button id="update-form-btn" onclick="openUpdateSearchForm()" class="home-get-category button">Update Item</button>
    </h3>
        <link href="css/style.css" rel="stylesheet"/>
        <div class="home-container">
            <div class="home-separator"></div>
            <div class="home-separator1"></div>
        </div>
        <div class="form-popup" id="item-form">
            <form class="form-container" id="search-id-form">
                <p class="form-field">
                    <label class="list1" for="item-id-id">Enter Item ID: </label>
                    <br>
                    <input class="list1"  type="text" id="item-id-id" placeholder=" ex: 000-1400" required>
                    <br>
                </p>
                <button type="button" class="btn" id="search-id">Search</button>
                <button type="button" class="btn" onclick="closeSearchForm()">Cancel</button>
            </form>
    </div>

    <div class="form-popup" id="item-form-category">
        <form class="form-container" id="search-id-form-category">
            <p class="form-field">
                <label class="list1" for="item-id-category">Enter Category ID: </label>
                <br>
                <input class="list1"  type="text" id="item-id-category" placeholder=" ex: 000" required>
                <br>
            </p>
            <button type="button" class="btn" id="search-id-category">Search</button>
            <button type="button" class="btn" onclick="closeCategorySearchForm()">Cancel</button>
        </form>
    </div>

    <div class="form-popup" id="item-update-form">
        <form class="form-container" id="search-id-update-form">
            <p class="form-field">
                <label class="list1" for="item-update-id">Enter Item ID to Update: </label>
                <br>
                <input class="list1"  type="text" id="item-update-id" placeholder=" ex: 000-1400" required>
                <br>
            </p>
            <button type="button" class="btn" onclick="openUpdateFormForSubmit()">Search</button>
            <button type="button" class="btn" onclick="closeUpdateSearchForm()">Cancel</button>
        </form>
    </div>

    <div class="form-popup" id="item-update-form-for-submit">
        <form class="form-container" id="update-form-for-submit">
                    <div class="card">
                        <div class="card_image">
                            <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzUycHQiIGhlaWdodD0iNzUycHQiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDc1MiA3NTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8cGF0aCBkPSJtMzk3LjMxIDE5Ni45OWMtMjUuMTAyLTI0LjYyNS04MS40NTcgMTEuMzY3LTEyNi45MiA1NC40NjEtMC40NzI2NiAwLjQ3MjY2LTAuOTQ1MzEgMC40NzI2Ni0xLjQyMTkgMC45NDUzMS0wLjQ3MjY2IDAuNDcyNjYtMC40NzI2NiAwLjQ3MjY2LTAuNDcyNjYgMC45NDUzMWwtMC40NzI2NiAwLjQ3MjY2Yy0xLjg5NDUgMi44Mzk4LTEuODk0NSA3LjEwNTUgMC45NDUzMSA5LjQ3MjdsOS40NzI3IDkuNDcyNy02LjE1NjIgNi4xNTYyLTkuNDcyNy05LjQ3MjdjLTIuMzY3Mi0yLjM2NzItNi42Mjg5LTIuODM5OC05LjQ3MjctMC45NDUzMWwtMC40NzI2NiAwLjQ3MjY2Yy0wLjQ3MjY2IDAtMC40NzI2NiAwLjQ3MjY2LTAuOTQ1MzEgMC40NzI2Ni0wLjQ3MjY2IDAuNDcyNjYtMC40NzI2NiAwLjk0NTMxLTAuOTQ1MzEgMS40MjE5LTQyLjYyNSA0NC45OTItNzguNjE3IDEwMS4zNS01My45OTIgMTI2LjQ1IDAuNDcyNjYgMC40NzI2NiAwLjQ3MjY2IDAuNDcyNjYgMC45NDUzMSAwLjk0NTMxIDUuNjgzNiA1LjY4MzYgMTYuNTc0IDExLjM2NyAzNS45OTIgNy4xMDU1bDUzLjA0MyA3LjEwNTVjMS44OTQ1IDAuNDcyNjYgNC4yNjE3IDAuOTQ1MzEgNy4xMDU1IDIuMzY3MiAyLjgzOTggMS40MjE5IDYuNjI4OSAyLjgzOTggMTAuODkxIDMuNzg5MSAyMy4yMDcgNS4yMTA5IDYxLjU2Ni0zMC4zMDkgNzIuNDU3LTQxLjY3NiAxMC44OTEtMTEuMzY3IDQ2Ljg4My00OS4yNTQgNDEuNjc2LTcyLjQ1Ny0wLjk0NTMxLTQuMjYxNy0yLjgzOTgtOC4wNTA4LTMuNzg5MS0xMC44OTEtMS40MjE5LTIuODM5OC0yLjM2NzItNC43MzQ0LTIuMzY3Mi03LjEwNTVsLTguMDUwOC01Mi41N2M0LjI2MTctMTkuNDE4LTEuNDIxOS0zMC4zMDktNy4xMDU1LTM1Ljk5MiAwLTAuNDcyNjYtMC40NzI2Ni0wLjQ3MjY2LTAuNDcyNjYtMC45NDUzMXptLTExNS41NSA5My4yOTcgOC41MjM0LTguNTIzNCA0Ny44MzIgMzUuOTg4IDMuNzg5MSA4Ljk5NjFjMCAwLjQ3MjY2IDAuNDcyNjYgMC45NDUzMSAwLjk0NTMxIDEuNDIxOWwwLjQ3MjY2IDAuOTQ1MzF2MC45NDUzMWwtMTMuMjYyIDEzLjI2MmMtMC40NzI2NiAwLjQ3MjY2LTAuOTQ1MzEgMC40NzI2Ni0wLjk0NTMxIDBsLTAuOTQ1MzEtMC40Njg3NWMtMC40NzI2Ni0wLjQ3MjY2LTAuOTQ1MzEtMC40NzI2Ni0xLjQyMTktMC45NDUzMWwtOC45OTYxLTMuNzkzem0tNjcuMjQ2IDg5LjUwNGMtMS44OTQ1LTEuODk0NS0xLjg5NDUtMTAuODkxIDcuNTc4MS0yOC44ODcgOC45OTYxLTE3LjA1MSAyMy42OC0zNy40MTQgNDIuNjIxLTU3Ljc3N2wzNC41NyA0NS45MzhjLTQ0LjA0MyAzNy44ODctNzguMTQxIDQ2Ljg4My04NC43NyA0MC43Mjd6bTE3My4zMy04OS45OGMwLjk0NTMxIDUuNjgzNiAyLjgzOTggMTAuNDE4IDQuMjYxNyAxNC4yMDcgMC45NDUzMSAyLjM2NzIgMS44OTQ1IDQuMjYxNyAyLjM2NzIgNi4xNTYyIDAgNS4yMTA5LTkuOTQ1MyAyNC42MjUtMzQuNTcgNDkuNzI3LTI0LjYyNSAyNS4xMDItNDQuNTE2IDM1LjA0Ny00OS43MjcgMzQuNTctMS44OTQ1LTAuNDcyNjYtMy43ODkxLTEuNDIxOS02LjE1NjItMi4zNjcyLTMuNzg5MS0xLjg5NDUtOC4wNTA4LTMuNzg5MS0xNC4yMDctNC4yNjE3bC0xMi43ODUtMS44OTQ1YzE0LjY4LTguOTk2MSAyOC44ODctMjAuMzYzIDQyLjYyMS0zMi4yMDNsMC45NDUzMSAwLjQ3MjY2YzUuNjgzNiA0LjI2MTcgMTMuMjYyIDMuMzE2NCAxOC40NjktMS40MjE5bDEzLjI2Mi0xMy4yNjJjNC43MzQ0LTQuNzM0NCA1LjY4MzYtMTIuNzg1IDEuNDIxOS0xOC40NjlsLTAuNDcyNjYtMS40MjE5YzEyLjMxMi0xMy43MzQgMjMuNjgtMjguNDE0IDMyLjIwMy00Mi42MjF6bS00OS43MjcgOS40NzI3LTQ1LjkzOC0zNC41N2MyMC4zNjMtMTguOTQxIDQwLjcyNy0zNC4wOTggNTcuNzc3LTQyLjYyMSAxNy45OTYtOS40NzI3IDI3LjQ2OS04Ljk5NjEgMjguODg3LTcuNTc4MSA3LjEwNTUgNi42Mjg5LTEuODkwNiA0MC43MjctNDAuNzI3IDg0Ljc3em0xMDUuMTQgMzMuMTUyYzE3LjA1MSAxNy4wNTEtOS40NzI3IDUwLjE5OS0zNS4wNDcgNzUuNzczcy01OC43MjMgNTEuNjIxLTc1Ljc3MyAzNS4wNDdjLTQuNzM0NC00LjczNDQtNC43MzQ0LTEyLjc4NSAwLTE3LjUyMyAzLjc4OTEtMy43ODkxIDkuOTQ1My00LjczNDQgMTQuNjgtMi4zNjcyIDUuMjEwOS0xLjQyMTkgMjEuMzEyLTEwLjQxOCA0My41Ny0zMi42NzYgMjIuMjU4LTIyLjI1OCAzMS4yNTgtMzcuODg3IDMyLjY3Ni00My41Ny0yLjM2NzItNC43MzQ0LTEuODk0NS0xMC40MTggMi4zNjcyLTE0LjY4IDQuNzQyMi00Ljc0MjIgMTIuNzkzLTQuNzQyMiAxNy41MjctMC4wMDM5MDZ6bTMxLjczIDMxLjcyN2MxNy4wNTEgMTcuMDUxLTkuNDcyNyA1MC4xOTktMzUuMDQ3IDc1Ljc3My0yNS41NzQgMjUuNTc0LTU4LjcyMyA1MS42MjEtNzUuNzczIDM1LjA0Ny00LjczNDQtNC43MzQ0LTQuNzM0NC0xMi43ODUgMC0xNy41MjMgMy43ODkxLTMuNzg5MSA5Ljk0NTMtNC43MzQ0IDE0LjY4LTIuMzY3MiA1LjIxMDktMS40MjE5IDIxLjMxMi0xMC40MTggNDMuNTctMzIuNjc2IDIyLjI1OC0yMi4yNTggMzEuMjU4LTM3Ljg4NyAzMi42NzYtNDMuNTctMi4zNjcyLTQuNzM0NC0xLjg5NDUtMTAuNDE4IDIuMzY3Mi0xNC42OCA0LjczODMtNC43MzgzIDEyLjc4OS00LjczODMgMTcuNTI3LTAuMDAzOTA2em0zMS43MyAzMi4yMDdjMTcuMDUxIDE3LjA1MS05LjQ3MjcgNTAuMTk5LTM1LjA0NyA3NS43NzMtMjUuMTAyIDI1LjEwMi01OC43MjMgNTEuNjIxLTc1Ljc3MyAzNS4wNDctNC43MzQ0LTQuNzM0NC00LjczNDQtMTIuNzg1IDAtMTcuNTIzIDMuNzg5MS0zLjc4OTEgOS45NDUzLTQuNzM0NCAxNC42OC0yLjM2NzIgNS4yMTA5LTEuNDIxOSAyMS4zMTItMTAuNDE4IDQzLjU3LTMyLjY3NiAyMi4yNTgtMjIuMjU4IDMxLjI1OC0zNy44ODcgMzIuNjc2LTQzLjU3LTIuMzY3Mi00LjczNDQtMS44OTQ1LTEwLjQxOCAyLjM2NzItMTQuNjggNC43MzgzLTUuMjE0OCAxMi43ODktNS4yMTQ4IDE3LjUyNy0wLjAwMzkwNnptMTkuODkxIDQ5LjI1YzE2LjU3NCAxNi41NzQtMTYuNTc0IDUxLjE0OC0yMy4yMDcgNTcuNzc3LTYuNjI4OSA2LjYyODktNDEuMjAzIDM5Ljc4MS01Ny43NzcgMjMuMjA3LTQuNzM0NC00LjczNDQtNC43MzQ0LTEyLjc4NSAwLTE3LjUyMyAzLjMxNjQtMy4zMTY0IDguNTIzNC00LjI2MTcgMTIuNzg1LTIuODM5OCA0LjI2MTctMS40MjE5IDE0LjY4LTcuNTc4MSAyNy40NjktMjAuMzYzIDEyLjc4NS0xMi43ODUgMTguOTQxLTIzLjY4IDIwLjM2My0yNy40NjktMS40MjE5LTQuMjYxNy0wLjQ3MjY2LTguOTk2MSAyLjgzOTgtMTIuNzg1IDQuNzM4My01LjIxMDkgMTIuMzE2LTUuMjEwOSAxNy41MjctMC4wMDM5MDZ6bTIxLjMwOSA0NC45OTJjMC40NzI2NiAxLjQyMTkgMTUuMTU2IDI5LjgzNiAxNS4xNTYgNjEuNTY2IDAgMi44Mzk4LTAuOTQ1MzEgNS42ODM2LTMuMzE2NCA3LjU3ODEtMS44OTQ1IDEuODk0NS00LjczNDQgMy4zMTY0LTcuNTc4MSAzLjMxNjQtMzEuNzMgMC02MC42MTctMTQuNjgtNjEuNTY2LTE1LjE1Ni0zLjMxNjQtMS44OTQ1LTUuNjgzNi01LjIxMDktNS42ODM2LTguOTk2MSAwLTMuNzg5MSAxLjg5NDUtNy41NzgxIDUuMjEwOS05LjQ3MjcgMCAwIDguOTk2MS01LjY4MzYgMTguOTQxLTE1LjYyOSA0LjI2MTctNC4yNjE3IDEwLjg5MS00LjI2MTcgMTUuMTU2IDAgNC4yNjE3IDQuMjYxNyA0LjI2MTcgMTAuODkxIDAgMTUuMTU2LTIuMzY3MiAyLjM2NzItNC43MzQ0IDQuNzM0NC03LjEwNTUgNi42Mjg5IDYuNjI4OSAyLjM2NzIgMTUuMTU2IDQuMjYxNyAyMy42OCA1LjIxMDktMi44Mzk4LTIxLjc4NS0xMS44NC00MC4yNTQtMTEuODQtNDAuNzI3LTIuODM5OC01LjIxMDktMC40NzI2Ni0xMS44NCA0LjczNDQtMTQuNjggNS4yMTQ4LTIuMzc1IDExLjM3MS0wLjAwNzgxMiAxNC4yMTEgNS4yMDMxeiIvPgo8L3N2Zz4K" alt="item">
                        </div>
                        <div class="card_content">
                            <form class=form-container id="update-form-submit">
                                <label class="label" for="item-title-update">Item ID: </label>
                                <h2 class="card_title" id="item-title-update"></h2>
                                <br>
                                <label class="label" for="description-update">Description: </label>
                                <p class="card_text" id="description-update"></p>
                                <label class="label" for="current-update">Current quantity: </label>
                                <input class="card_text" id="current-update">
                                <br>
                                <label class="label" for="reorder-update">Reorder Quantity: </label>
                                <input class="card_text" id="reorder-update" value="">
                                <br>
                                <label class="label" for="trigger-update">Quantity Trigger: </label>
                                <input class="card_text" id="trigger-update">
                                <br>
                                <label class="label" for="orderDate-update">Order Date: </label>
                                <input class="card_text" id="orderDate-update">
                                <button id="update-btn-submit" class="btn" type="submit">Update</button>
                                <button class="btn" onclick="closeUpdateFormForSubmit()">Cancel</button>
                            </form>
                        </div>
                    </div>
        </form>
    </div>
    <div class="main">
        <h1>Results: </h1>
        <ul class="cards" id="allItemsToAdd">
        </ul>
    </div>
</div>
<script>

    let popup = document.getElementById("item-form");
    let categoryPopup = document.getElementById("item-form-category");
    let updatePopup = document.getElementById("item-update-form");
    let updatePopupForm = document.getElementById("item-update-form-for-submit");

    function openSearchForm() {
        document.getElementById("search-id-form").reset();
        popup.classList.add("open-form-popup");
        closeCategorySearchForm();
    }
    function closeSearchForm() {
      popup.classList.remove("open-form-popup");
    }

    function openCategorySearchForm() {
        document.getElementById("search-id-form-category").reset();
        categoryPopup.classList.add("open-form-popup");
        closeSearchForm();
    }
    function closeCategorySearchForm() {
        categoryPopup.classList.remove("open-form-popup");
    }

    function openUpdateSearchForm() {
        document.getElementById("search-id-update-form").reset();
        updatePopup.classList.add("open-form-popup");
        closeSearchForm();
        closeCategorySearchForm();
    }
    function closeUpdateSearchForm() {
        updatePopup.classList.remove("open-form-popup");
    }

    async function openUpdateFormForSubmit() {
        document.getElementById("search-id-update-form").reset();
        document.getElementById("update-form-for-submit").reset();
        updatePopupForm.classList.add("open-form-popup");
        closeSearchForm();
        closeCategorySearchForm();
        closeUpdateSearchForm();

        const itemId = document.getElementById('item-update-id').value;
        const item = await this.client.getItemById(itemId);

        if(item) {
            document.getElementById('item-title-update').value = item.itemId;
            document.getElementById('description-update').value = item.description;
            document.getElementById('current-update').value = item.currentQty;
            document.getElementById('reorder-update').value = item.reorderQty;
            document.getElementById('trigger-update').value = item.qtyTrigger;
            item.orderDate = document.getElementById('orderDate-update').value;
        } else {
            // <li class="cards_item"> className
            //     <div class="card">
            //         className <div class="card_image"><img
            //         classNamehttps://www.vippng.com/png/detail/42-425681_kawaii-blue-sad-eyes-eye-blush-face-cute.png" alt="No Item Found"></div>
            //     <div class="card_content">
            //         className <h2 class="card_title">Item className${itemId}" is invalid, Try again.</h2>
            //     </div>
            //     </div>
            // </li>
        }

    }

    function closeUpdateFormForSubmit() {
        updatePopupForm.classList.remove("open-form-popup");
    }

</script>
</html>
